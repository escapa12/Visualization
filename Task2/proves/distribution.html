<!DOCTYPE html>
<html>

<!-- https://github.com/keen/dashboards -->

<head>
  <meta charset="utf-8">
  <title>Layouts &raquo; Hero-Thirds</title>

  <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no' />

  <script>var current_country = "Australia"</script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js" type="text/javascript"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.2.0/js/bootstrap.min.js" type="text/javascript"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/holder/2.3.2/holder.min.js" type="text/javascript"></script>
  <script>
    Holder.add_theme("white", { background:"#fff", foreground:"#a7a7a7", size:10 });
  </script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/country-region-dropdown-menu/1.2.1/geodatasource-cr.min.js" type="text/javascript"></script>

  <!-- keen-analysis@1.2.2 -->
  <script src="https://d26b395fwzu5fz.cloudfront.net/keen-analysis-1.2.2.js" type="text/javascript"></script>

  <!-- keen-dataviz@1.1.3 -->
  <link href="https://d26b395fwzu5fz.cloudfront.net/keen-dataviz-1.1.3.css" rel="stylesheet" />
  <script src="https://d26b395fwzu5fz.cloudfront.net/keen-dataviz-1.1.3.js" type="text/javascript"></script>

  <!-- Dashboard -->
  <link rel="stylesheet" type="text/css" href="css/keen-dashboards.css" />

  <!-- try resize-->

</head>

<body class="keen-dashboard" style="padding-top: 80px;">

  <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand">
          <span class=""></span>
        <a class="navbar-brand">WA Dashboard</a>
      </div>
      <div class="navbar-collapse collapse">
      </div>
    </div>
  </div>

  <div class="container-fluid">

    <div class="row">
      <div class="col-sm-8">
        <div class="chart-wrapper">
          <div class="chart-title">
            TOTAL BENEFIT BY COUNTRIES IN THE LAST 4 YEARS (MILLION €)
          </div>
          <div class="chart-stage">
            <div id="grid-1-1">

<!--1++++++++++++++++++++++++++++++++++++++++++++++++++++++++1  -->

<script src="http://d3js.org/d3.v3.min.js"></script>
<script src="js/bar.js"></script>
<link rel='stylesheet' href='css/style_bar.css'>
          <script>
          func_barchar("profit_country_year.csv")
          </script>

<!--1++++++++++++++++++++++++++++++++++++++++++++++++++++++++1  -->
              <!-- <img data-src="holder.js/100%x240/white/text:#grid-1-1"> -->
            </div>
          </div>
          <div class="chart-notes">
            Notes about this chart
          </div>
        </div>
      </div>
      <div class="col-sm-4">
        <div class="chart-wrapper">
          <div class="chart-title">
            TYPE ORDER SALES IN THE SELECTED COUNTRY
          </div>
          <div class="chart-stage">
            <!-- <img data-src="holder.js/100%x240/white"> -->
            <!--  ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->
            <script src="http://d3js.org/d3.v3.min.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/d3-legend/2.25.5/d3-legend.js"></script>
            <div id="chart"></div>
            <script src='js/pieV3.js'></script>
            <script src='js/d3-line-chart.js'></script>
            <script src='js/lines.js'></script>
            <script>
            pais=12
            piefunction(pais)
            </script>
            <!--  ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->
          </div>
          <div class="chart-notes">
            Notes about this chart
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-sm-6 col-md-4">
        <div class="chart-wrapper">
          <div class="chart-title">
            Country revenue vs planned revenue
          </div>
          <div class="chart-stage">
            <div id="multiple"> </div>
          </div>
          <div class="chart-notes">
            This chart help us undestanding the revenue diffence between real and planning
          </div>
        </div>
      </div>
      <div class="col-sm-6 col-md-4">
        <div class="chart-wrapper">
          <div class="chart-title">
            MOST PROFIT PRODUCTS
          </div>
          <div id="chart-stage">
<!--  ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->
            <!-- <img data-src="holder.js/100%x120/white"> -->
            <div id="table"></div>
            <script src="http://d3js.org/d3.v3.min.js"></script>
            <script src="js/table.js"></script>
            <link rel='stylesheet' href='css/table.css'>
            <script>
            var chart = document.getElementById("chart-stage");
            var width = chart.offsetWidth-10;
            var height = chart.offsetHeight-10;
            var valueFunc = function(data) { return data.value; }
            var textFunc = function(data) { return data.fullname; }
            ;
            d3.json("product_benefit_country.json",function(testdata){

              var votesData=[]
              pais='Australia'
              data=testdata[pais]
                Object.keys(data).forEach(function(key){
                  test={};
                  test.fullname=key;
                  test.value=Math.round(+data[key]*1000)/1000;
                  votesData.push(test)
                });
              console.log(votesData);
              var columns = ["Products ("+pais+')', "    Benefit (M €)"]
            drawTable(votesData, "#table", { width: width, height: height }, valueFunc, textFunc, columns);});


            // d3.json("data.json", function(mydata) {
            //   console.log(mydata);
            //   drawTable(mydata, "#table", { width: width, height: height }, valueFunc, textFunc, columns);
            // });
            </script>

<!--  ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->

          </div>
          <div class="chart-notes">
            Notes about this chart
          </div>
        </div>
      </div>
      <div class="col-sm-6 col-md-4">
        <div class="chart-wrapper">
          <div class="chart-title">
            Cell Title
          </div>
          <div class="chart-stage">
            <p>
              Current country: <span id="current_country">Australia</span>
            </p>
            <p>
              <select class="text_select" id="field_6" name="field_6">
              <option value="Australia">Australia</option>
              <option value="United States">United States</option>
              <option value="Canada">Canada</option>
              <option value="Japan">Japan</option>
              <option value="Singapore">Singapore</option>
              <option value="Netherlands">Netherlands</option>
              <option value="Sweden">Sweden</option>
              <option value="Finland">Finland</option>
              <option value="Denmark">Denmark</option>
              <option value="France">France</option>
              <option value="United Kingdom">United Kingdom</option>
              <option value="Austria">Austria</option>
              <option value="Mexico">Mexico</option>
              <option value="Korea">Korea</option>
              <option value="Germany">Germany</option>
              <option value="Belgium">Belgium</option>
              <option value="Italy">Italy</option>
              <option value="Spain">Spain</option>
              <option value="Brazil">Brazil</option>
              <option value="Switzerland">Switzerland</option>

              </select>
            </p>
          </div>
          <div class="chart-notes">
            Notes about this chart
          </div>
        </div>
      </div>

      </div>

    </div>

  </div>

  <div class="container-fluid">
    <p class="small text-muted">Built with &#9829; by <a href="https://keen.io">Keen IO</a></p>
  </div>

  <!-- Project Analytics -->
  <!-- <script type="text/javascript" src="../../assets/js/keen-analytics.js"></script> -->


</body>

<script>

  function notEmpty(){
    var e = document.getElementById("field_6");
    var strUser = e.options[e.selectedIndex].value;
    current_country = e.options[e.selectedIndex].value
    console.log(current_country)
    document.getElementById('current_country').innerHTML = strUser;

    //Refresh
    document.getElementById('multiple').innerHTML = "";
    plot_lines()
  }
  notEmpty()

      document.getElementById("field_6").onchange = notEmpty;

</script>


</html>
